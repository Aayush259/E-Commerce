import{r as a,j as e,F as P,L as A,P as d,u as W,a as R,S,b as T}from"./index-O9Xd2eDM.js";import{u as L,a as q,b as B,c as E}from"./wishlistReducerHooks-nDhzarwa.js";import{u as H}from"./useGetProducts-Cp1iPVQq.js";function I({productDetails:i}){const{addItemToCart:h,removeItemFromCart:m}=L(),{addItemToWishlist:f,removeItemFromWishlist:u}=q(),b=B(),x=E(),g=i.image,l=i.name,N=i.rating,n=i.originalPrice,p=i.discountPercentage,j=n-n*(p/100),[w,v]=a.useState(b(l)),[s,r]=a.useState(x(l)),t=()=>{w?m(l):h(i),v(c=>!c)},o=()=>{s?u(l):f(i),r(c=>!c)};return e.jsxs("div",{className:"relative p-4 mx-auto w-64 max-w-[70vw] rounded-2xl shadow-product-card-shadow hover:shadow-product-card-shadow-hover duration-300",children:[e.jsx("button",{className:"absolute top-0 right-0 m-2",onClick:o,children:e.jsx(P,{icon:"fa-solid fa-heart",className:`
                        h-5
                        ${s?"text-red-600":"text-slate-400"}
                    `})}),e.jsxs(A,{to:`/E-Commerce/products/${l}`,children:[e.jsx("img",{src:g,alt:l,className:"block m-auto h-60"}),e.jsxs("div",{className:"flex flex-row items-start justify-between my-4",children:[e.jsx("p",{className:"font-semibold text-slate-900",children:l}),e.jsxs("div",{className:"bg-slate-900 p-1 text-white flex flex-row items-start justify-center gap-1 rounded-lg",children:[N,e.jsx(P,{icon:"fa-solid fa-star",className:"h-3"})]})]}),e.jsxs("div",{className:"flex flex-row items-center justify-between mt-8",children:[e.jsxs("p",{children:[e.jsxs("span",{className:"font-semibold text-slate-900",children:["₹",j]}),e.jsxs("span",{className:"ml-2 line-through text-slate-500 font-thin",children:["₹",n]})]}),e.jsxs("p",{className:"font-semibold text-green-600",children:[p,"% OFF"]})]})]}),e.jsx("button",{className:"bg-slate-900 border-2 border-slate-900 text-white w-full mt-4 rounded-md py-[6px] tracking-wider uppercase hover:text-slate-900 hover:bg-white duration-300",onClick:t,children:w?"Remove From Cart":"Add To Cart"})]})}I.propTypes={productDetails:d.shape({image:d.string.isRequired,name:d.string.isRequired,rating:d.number.isRequired,originalPrice:d.number.isRequired,discountPercentage:d.number.isRequired}).isRequired};function k({setFilterCriteria:i,setSortPreference:h,setRatingsPreference:m}){const[f,u]=a.useState(!1),[b,x]=a.useState(["Wired","Noise Cancelling","Wireless","Speaker"]),g=()=>u(!0),l=s=>h(s.target.value),N=s=>m(Number(s.target.value)),n=s=>{const r=s.target.value;x(t=>s.target.checked?t.length>=4?[r]:[...t,r]:t.filter(o=>o!==r))},p=s=>{s.preventDefault(),u(!1),i(b)},j=()=>{u(!1),i([]),m("")},w=[{id:"highToLow",value:"highToLow",label:"High To Low"},{id:"lowToHigh",value:"lowToHigh",label:"Low To High"}],v=[{id:"wired",value:"Wired",label:"Wired"},{id:"noiseCancelling",value:"Noise Cancelling",label:"Noise Cancelling"},{id:"wireless",value:"Wireless",label:"Wireless"},{id:"speaker",value:"Speaker",label:"Speaker"}];return e.jsxs("section",{className:"w-[100vw] lg:w-[250px] max-w-full relative",children:[e.jsxs("button",{className:"flex flex-col items-center justify-center text-xl text-white bg-slate-900 p-3 w-full fixed bottom-0 z-20 lg:hidden",onClick:g,children:[e.jsx(P,{icon:"fa-solid fa-angle-up",className:"h-6"}),e.jsx("span",{children:"Filters"})]}),e.jsxs("form",{className:`${f?"":"hidden"} w-[100vw] lg:block lg:w-[250px] max-w-full pb-24 h-[100vh] overflow-y-auto lg:border-r-2 lg:border-slate-900 fixed z-[25] bg-white`,children:[e.jsxs("div",{className:"flex flex-row items-center justify-between p-4 border-b border-slate-700",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Filters"}),e.jsx("button",{type:"reset",className:"italic underline bg-slate-200 p-2 rounded-lg sm:hover:opacity-65",onClick:j,children:"Clear"})]}),e.jsxs("div",{className:"px-4 my-10 md:my-4",children:[e.jsx("p",{className:"text-lg font-semibold",children:"Price"}),e.jsx("div",{className:"flex flex-col gap-2 mt-3",children:w.map(({id:s,value:r,label:t})=>e.jsxs("label",{htmlFor:s,className:"flex flex-row items-center justify-start gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"priceFilter",id:s,value:r,onChange:l})," ",t]},s))})]}),e.jsxs("div",{className:"px-4 my-10 md:my-4",children:[e.jsx("p",{className:"text-lg font-semibold",children:"Categories"}),e.jsx("div",{className:"flex flex-col gap-2 mt-3",children:v.map(({id:s,value:r,label:t})=>e.jsxs("label",{htmlFor:s,className:"flex flex-row items-center justify-start gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"category",id:s,value:r,onChange:n})," ",t]},s))})]}),e.jsxs("div",{className:"px-4 my-10 md:my-4",children:[e.jsx("p",{className:"text-lg font-semibold",children:"Ratings"}),e.jsxs("div",{className:"flex flex-col gap-2 mt-3",children:[e.jsx("div",{className:"flex justify-between mb-2",children:[1,2,3,4,5].map(s=>e.jsx("span",{className:"text-sm font-medium",children:s},s))}),e.jsx("label",{htmlFor:"rating",className:"flex flex-row items-center justify-start gap-2 cursor-pointer",children:e.jsx("input",{type:"range",name:"rating",id:"rating",defaultValue:1,step:1,min:1,max:5,className:"w-full max-w-sm",onChange:N})})]})]}),e.jsx("button",{type:"submit",className:"block bg-slate-900 text-white px-3 py-2 rounded-lg ml-4 text-xl tracking-wider",onClick:p,children:"Apply"})]})]})}k.propTypes={setFilterCriteria:d.func.isRequired,setSortPreference:d.func.isRequired,setRatingsPreference:d.func.isRequired};function G(){H();const{value:i,status:h}=W(s=>s.product),{categoryname:m,productname:f}=R(),[u,b]=a.useState([]),[x,g]=a.useState(["Wired","Noise Cancelling","Wireless","Speaker"]);a.useEffect(()=>{x.length<=0&&g(["Wired","Noise Cancelling","Wireless","Speaker"])},[x]);const[l,N]=a.useState(!1),[n,p]=a.useState(""),[j,w]=a.useState(0),v=s=>{g(s),N(!0)};return a.useEffect(()=>{let s;l?s=x:s=m?[m]:["Wired","Noise Cancelling","Wireless","Speaker"];let r=i.filter(t=>s.includes(t.category));r=r.filter(t=>t.rating>=j),f&&(r=r.filter(t=>t.name.toLowerCase().includes(f.toLowerCase()))),n==="lowToHigh"?r=r.sort((t,o)=>{const c=t.originalPrice,C=c-c*(t.discountPercentage/100),y=o.originalPrice,F=y-y*(o.discountPercentage/100);return C-F}):n==="highToLow"&&(r=r.sort((t,o)=>{const c=t.originalPrice,C=c-c*(t.discountPercentage/100),y=o.originalPrice;return y-y*(o.discountPercentage/100)-C})),b(r)},[m,f,i,x,n,j]),h===S.LOADING?e.jsx(T,{}):h===S.ERROR?e.jsx("p",{className:"text-xl md:text-3xl text-center my-8 text-red-500",children:"Something went wrong!!!"}):e.jsxs("div",{className:"flex flex-row flex-wrap justify-start items-start relative",children:[e.jsx(k,{setFilterCriteria:v,setSortPreference:p,setRatingsPreference:w}),e.jsx("div",{className:"flex flex-row justify-start items-center flex-wrap gap-4 mx-8 my-4 mb-24 lg:ml-72 lg:mr-64",children:u.length<=0?e.jsx("p",{className:"text-xl md:text-3xl text-center my-8",children:"No items found for that..."}):u.map(s=>e.jsx(I,{productDetails:s},s.name))})]})}export{G as default};
