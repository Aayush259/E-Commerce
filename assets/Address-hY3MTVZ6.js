import{c as m,b as x,a as g,u,r,j as t,A as f,B as b}from"./index-CY6QASm8.js";function v(){const i=m(),c=x(),{addToast:d}=g(),{user:e}=u(),[a,l]=r.useState({address:(e==null?void 0:e.address)??"",phone:(e==null?void 0:e.phone)??"",pincode:(e==null?void 0:e.pincode)??"",city:(e==null?void 0:e.city)??"",state:(e==null?void 0:e.state)??""}),[o,n]=r.useState(!1),h=async s=>{if(s.preventDefault(),n(!0),!a.address||!a.phone||!a.pincode||!a.city||!a.state){console.log(a),console.log("Please fill all the fields"),n(!1),d("All fields are required.",!1);return}if(a.address===(e==null?void 0:e.address)&&a.phone===(e==null?void 0:e.phone)&&a.pincode===(e==null?void 0:e.pincode)&&a.city===(e==null?void 0:e.city)&&a.state===(e==null?void 0:e.state)){n(!1),d("Nothing to update.",!1);return}try{await f(a),i(b({...e,address:a.address,phone:a.phone,pincode:a.pincode,city:a.city,state:a.state})),d("Updated successfully.",!0),c("/E-Commerce/account/profile")}catch{d("Failed to update.",!1)}n(!1)},p=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal"];return t.jsxs(t.Fragment,{children:[t.jsxs("form",{className:"max-w-[90%] m-auto my-8",onSubmit:h,children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 flex-wrap gap-4 w-full",children:[t.jsx("label",{htmlFor:"phone",children:t.jsx("input",{type:"tel",id:"phone",className:"bg-slate-200 min-w-28 rounded-md text-xl p-2 border border-slate-900",placeholder:"Phone",value:a.phone,onChange:s=>l({...a,phone:s.target.value})})}),t.jsx("label",{htmlFor:"pincode",children:t.jsx("input",{type:"text",id:"pincode",className:"bg-slate-200 min-w-28 rounded-md text-xl p-2 border border-slate-900",placeholder:"PIN Code",value:a.pincode,onChange:s=>l({...a,pincode:s.target.value})})}),t.jsx("label",{htmlFor:"city",children:t.jsx("input",{type:"text",id:"city",className:"bg-slate-200 min-w-28 rounded-md text-xl p-2 border border-slate-900",placeholder:"City",value:a.city,onChange:s=>l({...a,city:s.target.value})})}),t.jsxs("select",{id:"state",className:"bg-slate-200 min-w-28 rounded-md text-xl p-2 border border-slate-900 cursor-pointer",value:a.state,onChange:s=>l({...a,state:s.target.value}),children:[t.jsx("option",{value:"",children:"Select State"}),p.map(s=>t.jsx("option",{value:s,children:s},s))]}),t.jsx("label",{htmlFor:"address",className:"w-full sm:col-span-2",children:t.jsx("textarea",{id:"address",className:"bg-slate-200 rounded-md text-xl p-2 border border-slate-900 w-full h-40",placeholder:"Address",value:a.address,onChange:s=>l({...a,address:s.target.value})})})]}),t.jsx("div",{className:"flex flex-row items-center justify-center flex-wrap text-white w-full py-5 gap-[2px]",children:t.jsx("button",{type:"submit",className:`bg-slate-900 p-3 border border-slate-900 font-semibold flex-grow hover:bg-white hover:text-slate-900 duration-300 ${o?"opacity-50":"opacity-100"} `,disabled:o,children:"Save"})})]}),t.jsxs("div",{className:"my-6 mx-6",children:[(e==null?void 0:e.name)&&t.jsx("p",{className:"font-semibold text-lg md:text-xl",children:e.name}),(e==null?void 0:e.phone)&&t.jsx("p",{className:"mt-4",children:e.phone}),(e==null?void 0:e.address)&&t.jsx("p",{children:e.address}),(e==null?void 0:e.city)&&t.jsx("p",{children:e.city}),(e==null?void 0:e.state)&&t.jsx("p",{children:e.state})]})]})}export{v as default};
