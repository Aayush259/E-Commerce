import{b,c as j,a as v,r as f,j as s,L,C as N,D as y}from"./index-CY6QASm8.js";function D(){const g=b(),h=j(),{addToast:l}=v(),[i,n]=f.useState(!1),[t,p]=f.useState({email:"",password:""}),w=async a=>{var r,o,d,c,u,m,x;if(a.preventDefault(),!t.email&&!t.password)return alert("All fields are required.");n(!0);try{const e=await N(t.email,t.password);e.ok?(l("Logged in successfully.",!0),g("/E-Commerce/products"),h(y({id:e.data.user._id,name:e.data.user.name,email:e.data.user.email,cart:(r=e.data.user)==null?void 0:r.cart,wishlist:(o=e.data.user)==null?void 0:o.wishlist,address:(d=e.data.user)==null?void 0:d.address,phone:(c=e.data.user)==null?void 0:c.phone,pincode:(u=e.data.user)==null?void 0:u.pincode,city:(m=e.data.user)==null?void 0:m.city,state:(x=e.data.user)==null?void 0:x.state}))):l("Failed to login.",!1)}catch{l("Failed to login.",!1)}finally{n(!1)}};return s.jsx("div",{className:"flex min-h-[100vh] w-[100vw] max-w-[600px] m-auto flex-col items-center justify-center px-7",children:s.jsxs("form",{className:"w-full",onSubmit:w,children:[s.jsx("h2",{className:"text-center font-semibold text-2xl md:text-3xl mb-4",children:"Login"}),["email","password"].map(a=>s.jsxs("label",{htmlFor:a,className:"w-full my-4 text-slate-800 flex flex-col gap-2",children:[a.charAt(0).toUpperCase()+a.slice(1),s.jsx("input",{type:a,name:a,id:a,value:t[a],onChange:r=>p({...t,[a]:r.target.value}),required:!0,className:"bg-red-100 p-2 w-full border border-slate-900 rounded-md"})]},a)),s.jsx("button",{type:"submit",className:`w-full bg-slate-900 text-white my-3 text-lg md:text-xl py-2 border border-slate-900 hover:bg-white hover:text-slate-900 mt-4 duration-300 ${i?"opacity-50":"opacity-100"}`,disabled:i,children:"Login"}),s.jsxs("p",{className:"text-center my-4",children:["Don't have account? ",s.jsx(L,{to:"/E-Commerce/signup",className:"underline underline-offset-4",children:"Sign Up"})]})]})})}export{D as default};
