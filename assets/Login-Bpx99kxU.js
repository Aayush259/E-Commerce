import{b as p,c as g,a as w,r as b,j as s,L as j,C as v,D as N}from"./index-CHYNfWYa.js";function C(){const u=p(),m=g(),{addToast:x}=w(),[t,h]=b.useState({email:"",password:""}),f=async a=>{var r,l,i,n,d,o,c;if(a.preventDefault(),!t.email&&!t.password)return alert("All fields are required.");const e=await v(t.email,t.password);e.ok&&(x("Logged in successfully.",!0),u("/E-Commerce/products"),m(N({id:e.data.user._id,name:e.data.user.name,email:e.data.user.email,cart:(r=e.data.user)==null?void 0:r.cart,wishlist:(l=e.data.user)==null?void 0:l.wishlist,address:(i=e.data.user)==null?void 0:i.address,phone:(n=e.data.user)==null?void 0:n.phone,pincode:(d=e.data.user)==null?void 0:d.pincode,city:(o=e.data.user)==null?void 0:o.city,state:(c=e.data.user)==null?void 0:c.state})))};return s.jsx("div",{className:"flex min-h-[100vh] w-[100vw] max-w-[600px] m-auto flex-col items-center justify-center px-7",children:s.jsxs("form",{className:"w-full",onSubmit:f,children:[s.jsx("h2",{className:"text-center font-semibold text-2xl md:text-3xl mb-4",children:"Login"}),["email","password"].map(a=>s.jsxs("label",{htmlFor:a,className:"w-full my-4 text-slate-800 flex flex-col gap-2",children:[a.charAt(0).toUpperCase()+a.slice(1),s.jsx("input",{type:a,name:a,id:a,value:t[a],onChange:e=>h({...t,[a]:e.target.value}),required:!0,className:"bg-red-100 p-2 w-full border border-slate-900 rounded-md"})]},a)),s.jsx("button",{type:"submit",className:"w-full bg-slate-900 text-white my-3 text-lg md:text-xl py-2 border border-slate-900 hover:bg-white hover:text-slate-900 mt-4 duration-300",children:"Login"}),s.jsxs("p",{className:"text-center my-4",children:["Don't have account? ",s.jsx(j,{to:"/E-Commerce/signup",className:"underline underline-offset-4",children:"Sign Up"})]})]})})}export{C as default};
