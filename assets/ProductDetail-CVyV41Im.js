import{j as e,F as A,P as I,u as P,a as C,b as T,c as F,t as W,p as E,r,q as R,s as D,f as k,g as S,h as _,i as q,k as L,l as $,m as B,n as O}from"./index-kcfJgbEy.js";function b({rating:o}){return e.jsx("div",{className:"flex flex-row gap-1 text-xl",children:Array.from({length:5},(l,a)=>e.jsx(A,{icon:"fa-solid fa-star",className:a<o?"text-yellow-500":"text-gray-400"},a))})}b.propTypes={rating:I.number.isRequired};function Y(){const{user:o,isLoggedIn:l}=P(),{addToast:a}=C(),x=T(),d=F(),i=W(),{productname:w}=E(),[s,v]=r.useState(null),[u,f]=r.useState(!1),[h,c]=r.useState(!1),[p,g]=r.useState(!1),[j,n]=r.useState(!1);r.useEffect(()=>{l&&i&&s&&(c(o.cart.some(t=>t===s._id)),n(o.wishlist.some(t=>t===s._id)))},[i,o,s]),r.useEffect(()=>{i&&v(i.filter(t=>t.name===w)[0])},[i]),r.useEffect(()=>{i&&i.length<=0&&d(R())},[]);const y=async()=>{if(!l){x("/E-Commerce/login");return}f(!0);const t=s._id;if(h)try{await k(t),d(S(t)),c(!1),a("Removed from cart.",!0)}catch{a("Failed to remove.",!1)}else try{await _(t),d(q(t)),c(!0),a("Added to cart.",!0)}catch{a("Failed to add.",!1)}f(!1)},N=async()=>{if(!l){x("/E-Commerce/login");return}g(!0);const t=s._id;if(j)try{await L(t),d($(t)),n(!1),a("Removed from wishlist.",!0)}catch{a("Failed to remove.",!1)}else try{await B(t),d(O(t)),n(!0),a("Added to wishlist.",!0)}catch{a("Failed to add.",!1)}g(!1)};return e.jsx("div",{children:s?e.jsxs("div",{className:"flex flex-col lg:flex-row lg:gap-4 p-4",children:[e.jsx("div",{className:"mx-auto my-5 shadow-product-card-shadow w-fit p-10 rounded-xl overflow-hidden shrink-0 flex items-center justify-center",children:e.jsx("img",{src:s.image,alt:s.name,className:"block m-auto max-h-60"})}),e.jsxs("div",{className:"px-4",children:[e.jsx("h2",{className:"text-2xl lg:text-3xl font-semibold mt-8",children:s.name}),e.jsx("div",{className:"mt-3",children:e.jsx(b,{rating:s.rating})}),e.jsxs("div",{className:"text-2xl font-semibold mt-8 flex flex-row flex-wrap items-center justify-between gap-2",children:[e.jsxs("p",{children:[e.jsxs("span",{children:["₹",s.originalPrice-s.originalPrice*(s.discountPercentage/100)]}),e.jsxs("span",{className:"font-normal line-through ml-4 text-slate-400",children:["₹",s.originalPrice]})]}),e.jsxs("span",{className:"text-green-600",children:[s.discountPercentage,"% OFF"]})]}),e.jsxs("div",{className:"flex flex-row flex-wrap w-full items-center justify-center gap-4 text-lg mt-5 pb-2 border-b border-slate-800",children:[e.jsx("button",{className:`flex-grow bg-slate-900 text-white hover:bg-white hover:text-slate-900 duration-300 py-3 px-1 border-2 border-slate-900 uppercase ${u?"opacity-50":"opacity-100"}`,onClick:y,disabled:u,children:h?"Remove From Cart":"Add To Cart"}),e.jsx("button",{className:`flex-grow bg-white text-slate-900 hover:bg-slate-900 hover:text-white duration-300 py-3 px-1 border-2 border-slate-900 uppercase ${p?"opacity-50":"opacity-100"}`,onClick:N,disabled:p,children:j?"Remove From Wishlist":"Add To Wishlist"})]}),e.jsxs("div",{className:"flex flex-col gap-2 text-sm sm:text-xl mt-4 mb-12",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Brand: "}),s.brand]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Description: "}),s.description]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Type: "}),s.category]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Added In Year: "}),s.yearAdded]})]})]})]}):e.jsx(D,{})})}export{Y as default};
