import{c as C,a as P,r as l,j as e,F as w,L as b,d as W,h as k,i as F,k as R,l as T,P as o,u as q,q as E,y as S}from"./index-CHYNfWYa.js";function y({item:t}){const c=C(),{addToast:r}=P(),[n,m]=l.useState(!1),[i,d]=l.useState(!1),h=W(),s=t._id,a=t.image,u=t.name,x=t.originalPrice,j=t.rating,f=t.discountPercentage,v=x-x*(f/100),p=h(s),I=async()=>{if(!p){m(!0);try{await k(s),c(F(s)),r("Added to cart.",!0)}catch{r("Failed to add.",!1)}finally{m(!1)}}},g=async()=>{d(!0);try{await R(s),c(T(s)),r("Removed from wishlist.",!0)}catch{r("Failed to remove.",!1)}finally{d(!1)}};return e.jsxs("div",{className:"relative p-4 mx-auto w-64 max-w-[70vw] rounded-2xl shadow-product-card-shadow hover:shadow-product-card-shadow-hover duration-300",children:[e.jsx("button",{className:`absolute top-0 right-0 m-2 ${i?"opacity-50":"opacity-100"}`,onClick:g,disabled:i,children:e.jsx(w,{icon:"fa-solid fa-heart",className:"h-5 text-red-600"})}),e.jsxs(b,{to:`/E-Commerce/products/${u}`,children:[e.jsx("img",{src:a,alt:u,className:"block m-auto h-60"}),e.jsxs("div",{className:"flex flex-row items-start justify-between my-4",children:[e.jsx("p",{className:"font-semibold text-slate-900",children:u}),e.jsxs("div",{className:"bg-slate-900 p-1 text-white flex flex-row items-start justify-center gap-1 rounded-lg",children:[j,e.jsx(w,{icon:"fa-solid fa-star",className:"h-3"})]})]}),e.jsxs("div",{className:"flex flex-row items-center justify-between mt-8",children:[e.jsxs("p",{children:[e.jsxs("span",{className:"font-semibold text-slate-900",children:["₹",v]}),e.jsxs("span",{className:"ml-2 line-through text-slate-500 font-thin",children:["₹",x]})]}),e.jsxs("p",{className:"font-semibold text-green-600",children:[f,"% OFF"]})]})]}),e.jsx("button",{className:`bg-slate-900 border-2 border-slate-900 text-white w-full mt-4 rounded-md py-[6px] tracking-wider uppercase hover:text-slate-900 hover:bg-white duration-300 ${i?"opacity-50":"opacity-100"}`,onClick:g,disabled:i,children:"Remove"}),p?e.jsx(b,{to:"/E-Commerce/cart",className:"block text-center bg-slate-900 border-2 border-slate-900 text-white w-full mt-4 rounded-md py-[6px] tracking-wider uppercase hover:text-slate-900 hover:bg-white duration-300",children:"Go to Cart"}):e.jsx("button",{className:`bg-slate-900 border-2 border-slate-900 text-white w-full mt-4 rounded-md py-[6px] tracking-wider uppercase hover:text-slate-900 hover:bg-white duration-300 ${n?"opacity-50":"opacity-100"}`,onClick:I,disabled:n,children:"Move to Cart"})]})}y.propTypes={item:o.shape({image:o.string.isRequired,name:o.string.isRequired,originalPrice:o.number.isRequired,rating:o.number.isRequired,discountPercentage:o.number.isRequired}).isRequired};function A(){const{user:t,isLoggedIn:c}=q(),[r,n]=l.useState(!0),[m,i]=l.useState(!1),[d,h]=l.useState([]),s=async()=>{n(!0);try{const a=await S();h(a)}catch{i(!0)}finally{n(!1)}};return l.useEffect(()=>{c&&s()},[t]),e.jsx("div",{className:"flex flex-row flex-wrap justify-start items-start gap-4 w-fit my-8 mx-4",children:r?e.jsx(E,{}):m?e.jsx("p",{className:"absolute top-20 left-0 text-xl w-[100vw] overflow-hidden md:text-3xl font-semibold tracking-wider text-center my-10",children:"Something went wrong. Please try again later."}):d.length<=0?e.jsx("p",{className:"absolute top-20 left-0 text-xl w-[100vw] overflow-hidden md:text-3xl font-semibold tracking-wider text-center my-10",children:"You haven't added anything in the wishlist yet."}):e.jsx("div",{className:"flex flex-row flex-wrap justify-start items-start gap-4 w-fit my-8 mx-4",children:d.map(a=>e.jsx(y,{item:a},a._id))})})}function $(){return e.jsx(A,{})}export{$ as default};
